# ===============================================
# D&D AI Game - Production Environment Variables
# ===============================================
# IMPORTANT: Copy this file to .env.production and fill in your actual values
# SECURITY: Never commit .env.production to version control!

# ===============================================
# DATABASE CONFIGURATION
# ===============================================
DB_USER=dnd_user
DB_PASSWORD=YOUR_VERY_SECURE_DATABASE_PASSWORD_HERE
DB_NAME=dnd_game

# ===============================================
# API KEYS
# ===============================================
# Google Gemini API Key (required for AI narrator)
# Get your key at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE

# Pexels API Key (required for images)
# Get your key at: https://www.pexels.com/api/
PEXELS_API_KEY=YOUR_PEXELS_API_KEY_HERE

# ===============================================
# APPLICATION CONFIGURATION
# ===============================================
NODE_ENV=production
PORT=3000

# Frontend URL (your domain)
FRONTEND_URL=https://dnd.scorvan.it

# CORS configuration (must match your domain)
CORS_ORIGIN=https://dnd.scorvan.it

# ===============================================
# AUTHENTICATION & SECURITY
# ===============================================
# Generate secure keys using these commands:
# JWT_SECRET (64 bytes):
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# ENCRYPTION_KEY (32 bytes):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

JWT_SECRET=YOUR_64_BYTE_HEX_JWT_SECRET_HERE
ENCRYPTION_KEY=YOUR_32_BYTE_HEX_ENCRYPTION_KEY_HERE
JWT_EXPIRES_IN=7d

# ===============================================
# FRONTEND BUILD VARIABLES
# ===============================================
# These are baked into the frontend build at build time
# API URL (backend endpoint via Apache proxy)
VITE_API_URL=https://dnd.scorvan.it/api

# WebSocket URL (for real-time features via Apache proxy)
VITE_WS_URL=wss://dnd.scorvan.it

# ===============================================
# OPTIONAL CONFIGURATION
# ===============================================
# Rate limiting (uncomment to disable in development)
# DISABLE_RATE_LIMIT=false

# Log level (error, warn, info, debug)
# LOG_LEVEL=info

# ===============================================
# DEPLOYMENT NOTES (Apache2 + Docker Setup)
# ===============================================
# 1. This setup uses Apache2 on ports 80/443 with existing SSL certificates
# 2. Docker services run on different ports:
#    - Frontend: localhost:8080 (proxied via Apache)
#    - Backend: localhost:3100 (proxied via Apache to /api)
#    - Database: localhost:5433 (PostgreSQL inside Docker network)
# 3. SSL is handled by Apache2 using existing certificates:
#    - /etc/ssl/certs/ssl.pem
#    - /etc/ssl/private/ssl.key
# 4. Generate strong passwords and secrets before deployment
# 5. Ensure all API keys are valid
# 6. Configure Apache VirtualHost (see apache-dnd.scorvan.it.conf)
